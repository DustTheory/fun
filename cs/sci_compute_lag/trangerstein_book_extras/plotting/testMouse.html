<HTML>
  <HEAD>
    <meta charset="UTF-8">
    <TITLE> test mouse buttons </TITLE>
  </HEAD>
  <BODY>
    <h2>
      test mouse buttons
    </h2>
    <script language="javascript">
      var watch_mouse = false;
      function mouseHandler( e ) {
        if ( ! watch_mouse ) return;
        if ( e.type == "mousedown" || e.type == "mousemove" ||
        e.type == "mouseup") {
          document.getElementById("debug_textarea").value +=
            "position = " + e.screenX + " " + e.screenY;
          if ( e.type == "mousedown" || e.type == "mousemove" ) {
            document.getElementById("debug_textarea").value +=
              " button = " + e.button + "\n";
          } else {
            document.getElementById("debug_textarea").value += "\n";
            watch_mouse = false;
          }
        }
      }
      function onstart() {
//      document.getElementById("mouse_canvas").
//        addEventListener("mousedown",mouseHandler,false);
//      document.getElementById("mouse_canvas").
//        addEventListener("mousemove",mouseHandler,false);
        document.getElementById("mouse_canvas").
          addEventListener("mouseup",mouseHandler,false);
        document.getElementById("debug_textarea").value +=
          "begin mouse watch\n";
        watch_mouse = true;
//      while ( watch_mouse) {
//        document.getElementById("debug_textarea").value +=
//          "watching\n";
//      }
      }
    </script>
    <br>
    <canvas id="mouse_canvas" width="100" height="100"></canvas>
    <br>
    <textarea
      id="debug_textarea"
      cols=100
      rows=30
    >
    </textarea>
    <script language="javascript"> onstart(); </script>
  </BODY>
</HTML>
