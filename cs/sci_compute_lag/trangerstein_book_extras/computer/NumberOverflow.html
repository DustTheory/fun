<HTML>
  <HEAD>
    <meta charset="UTF-8">
    <TITLE> Number Overflow </TITLE>
  </HEAD>
  <BODY>
    <h2> Number Overflow, Underflow and Rounding Error </h2>
    <script src=numberToHexadecimal.js></script>
    <script language="javascript">
    function overflow() {
      var n=1;
      document.getElementById("hex_textarea").value =
        "overflow sequence: x_0=1, while (x_n is finite) x_{n+1} = 2 * x_n + 1:";
      document.getElementById("hex_textarea").value += "\n";
      while (isFinite(n)) {
        document.getElementById("hex_textarea").value +=
          n + " " + numberToHexadecimal(n) + "\n";
        n=2*n+1;
      }
      document.getElementById("hex_textarea").value +=
        n + " " + numberToHexadecimal(n) + "\n";
    }
    function underflow() {
      var n=0.5;
      var nnew=0.5+0.5*n;
      document.getElementById("hex_textarea").value =
        "underflow sequence: x_0 = 1 - epsilon, while (x_n > 0 ) x_{n+1} = x_n / 2:";
      document.getElementById("hex_textarea").value += "\n";
      while (nnew<1) {
        n=nnew;
        nnew=0.5+0.5*n;
      }
      while (n>0) {
        document.getElementById("hex_textarea").value +=
          n + " " + numberToHexadecimal(n) + "\n";
        n*=0.5;
      }
      document.getElementById("hex_textarea").value +=
        n + " " + numberToHexadecimal(n) + "\n";
    }
    function roundingError() {
      var n=0.5;
      document.getElementById("hex_textarea").value =
        "rounding error sequence: x_0 = 1/2, while (x_n < 1 ) x_{n+1} = ( x_n + 1 ) / 2:";
      document.getElementById("hex_textarea").value += "\n";
      while (n<1) {
        document.getElementById("hex_textarea").value +=
          n + " " + numberToHexadecimal(n) + "\n";
        n=0.5+0.5*n;
      }
      document.getElementById("hex_textarea").value +=
        n + " " + numberToHexadecimal(n) + "\n";
    }
    </script>
    <input
      type="button" 
      value="Overflow Number"
      onclick="overflow();"
    >
    <input
      type="button" 
      value="Underflow Number"
      onclick="underflow();"
    >
    <input
      type="button" 
      value="Rounding Error"
      onclick="roundingError();"
    >
    <br>
    Please be patient: Overflow Number can take several minutes to run
    <br>
    <textarea
      id="hex_textarea"
      cols=100
      rows=20
    >
    </textarea>
<!--
    <br>
    <textarea
      id="debug_textarea"
      cols=100
      rows=50
    >
    </textarea>
-->
    <script language="javascript"> roundingError(); </script>
  </BODY>
</HTML>
<!--
<html><head></head><body></body></html>
-->
